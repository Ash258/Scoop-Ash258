{
    "version": "3.5.2",
    "description": "Docker Desktop. Open platform for developers and sysadmins to build, ship, and run distributed applications, whether on laptops, data center VMs, or the cloud.",
    "homepage": "https://www.docker.com/products/docker-desktop",
    "license": {
        "identifier": "Apache-2.0",
        "url": "https://www.docker.com/legal/docker-software-end-user-license-agreement"
    },
    "notes": [
        "All files will be installed into DEFAULT docker directory. (C:\\Program Files\\Docker)",
        "I suggest to change the docker images location:",
        "    https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file",
        "",
        "Updating is handled by docker itself.",
        "    No updates will be done to this manifest.",
        "",
        "'scoop uninstall docker' will uninstall docker completely.",
        "    Images, VM, settings, ..."
    ],
    "architecture": {
        "64bit": {
            "url": "https://desktop.docker.com/win/stable/amd64/66501/Docker%20Desktop%20Installer.exe#/DockerDesktopInstall.exe",
            "hash": "d6e3ecaf222e1ab595902d28792cca5151f88c09f009e6aebdd429f2277383db"
        }
    },
    "pre_install": [
        "try { Get-Command 'Test-Persistence' -ErrorAction 'Stop' | Out-Null } catch { error 'Shovel flavour of scoop is required'; exit 258 }",
        "if (is_admin) {",
        "    if ((Get-WindowsOptionalFeature -FeatureName 'Microsoft-Hyper-V' -Online).State -eq 'Disabled') {",
        "        Write-UserMessage -Message 'Hyper-V is disabled. Enabling. Please restart PC before first start of Docker.' -Warning",
        "        Enable-WindowsOptionalFeature -Online -FeatureName 'Microsoft-Hyper-V' -All -NoRestart",
        "    }",
        "}"
    ],
    "installer": {
        "args": [
            "install",
            "--quiet"
        ],
        "keep": true
    },
    "uninstaller": {
        "file": "DockerDesktopInstall.exe",
        "args": [
            "uninstall",
            "--quiet"
        ]
    },
    "checkver": {
        "url": "https://desktop.docker.com/win/stable/amd64/appcast.xml",
        "xpath": "rss/channel/item/title",
        "regex": "([\\d.]+)\\ \\((?<build>[\\d.]+)\\)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://desktop.docker.com/win/stable/amd64/$matchBuild/Docker%20Desktop%20Installer.exe#/DockerDesktopInstall.exe"
            }
        }
    }
}
