{
    "version": "1.0beta",
    "description": "FreeRapid Downloader. Easy to use Java downloader that supports downloading from Youtube, Facebook, Picasa and other file-sharing services, include the new ones like mega.co.nz.",
    "homepage": "http://wordrider.net/freerapid/",
    "license": {
        "identifier": "GPL-2.0+"
    },
    "depends": "oraclejre",
    "url": "http://wordrider.net/download/FreeRapid-1.0beta.zip",
    "hash": "c493b4fb4223c7a75fa748b309dc9342ca8bd68d4415b686d28d68c6a8b7b520",
    "extract_dir": "FreeRapid-1.0beta",
    "shortcuts": [
        [
            "frd.bat",
            "Freerapid Downloader",
            "",
            "frd.ico"
        ]
    ],
    "post_install": [
        "$delimeter = \"`r`n\"",
        "$start = @('<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>',",
        "    '<!DOCTYPE preferences SYSTEM \"http://java.sun.com/dtd/preferences.dtd\">', '<preferences EXTERNAL_XML_VERSION=\"1.0\">',",
        "    '  <root type=\"user\">', '    <map>'",
        ")",
        "$ents = @()",
        "$end =  @('    </map>', '  </root>', '</preferences>')",
        "$entryTemplate = \"      <entry key=\"\"%%key%%\"\" value=\"\"%%value%%\"\"/>\"",
        "$entries = @{",
        "    'enableDirectDownloads'             = 'true';",
        "    'enableNewLinkCheckDownloadHistory' = 'true';",
        "    'errorAttemptsCount'                = '-1';",
        "    'preCreateFile'                     = 'true';",
        "    'showInfoInFrameTitle'              = 'true';",
        "    'showPercentProgress'               = 'true';",
        "    'skipDuplicateFiles'                = 'true';",
        "    'zoomCaptchaImage'                  = 'true';",
        "}",
        "foreach ($entry in $entries.Keys) {",
        "    $ent = ($entryTemplate -replace '%%key%%', $entry) -replace '%%value%%', $entries.Item($entry)",
        "    $ents += $ent",
        "}",
        "    # Create file string",
        "$finalFile  = $start -join $delimeter",
        "$finalFile += $ents -join $delimeter",
        "$finalFile += $end -join $delimeter",
        "    # Set File",
        "$FILE = \"$env:AppData\\VitySoft\\FRD\\frd.xml\"",
        "Write-Host $finalFile -f Yellow",
        "if (!(Test-Path $FILE)) {",
        "#    New-Item $FILE -Force -Type File ! Out-Null",
        "#    Set-Content $FILE $finalFile -Encoding Ascii",
        "}"
    ],
    "checkver": {
        "url": "http://wordrider.net/freerapid/download.htm",
        "regex": "Current version is\\s*<em>FreeRapid Downloader ([\\d+\\.]+\\w+)"
    },
    "autoupdate": {
        "url": "https://www.wordrider.net/download/FreeRapid-$version.zip",
        "extract_dir": "FreeRapid-$version"
    }
}
